<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>div表格</title>
    <link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
<div class="row" style="width: 600px;">
    <p>div表格</p>
    <!-- <div class="table-container"> -->
        <div class="grid">
            <div class="grid-header">
                <div class="grid-row">
                    <div class="grid-item check"></div
                    ><div class="grid-item name">姓名</div
                    ><div class="grid-item no">编号</div
                    ><div class="grid-item gender">性别</div
                    ><div class="grid-item property">员工性质</div
                    ><div class="grid-item position">职位</div
                    ><div class="grid-item status">在职状态</div
                    ><div class="grid-item region">地区</div
                    ><div class="grid-item role">角色</div
                    ><div class="grid-item managementUnit">管理单位</div
                    ><div class="grid-item GID">员工GID编号</div>
                </div>
            </div>
            <div class="grid-body">
            </div>
        </div>
    <!-- </div> -->
</div>
<!-- template -->
<script type="text/html" id="gridBodyTemplate">
    {{each list as value index}}
        {{if index % 2 == 0}}
            <div class="grid-row clearfix odd"
        {{else}}
            <div class="grid-row clearfix even"
        {{/if}}
            ><div class="grid-item check"></div
            ><div class="grid-item name">姓名</div
            ><div class="grid-item no">编号</div
            ><div class="grid-item gender">性别</div
            ><div class="grid-item property">员工性质</div
            ><div class="grid-item position">职位</div
            ><div class="grid-item status">在职状态</div
            ><div class="grid-item region">地区</div
            ><div class="grid-item role">角色</div
            ><div class="grid-item managementUnit">管理单位</div
            ><div class="grid-item GID">员工GID编号{{index}}</div>
        </div>
    {{/each}}
</script>
<script type="text/javascript" src="jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="template.js"></script>
<script type="text/javascript" src="divTable.js"></script>
<script type="text/javascript">
$(function() {
    var _list = {};
    _list.list = [];
    for (var i = 0; i < 10; i++) {
        _list.list.push(i);
    }
    var gridBodyHtml = template("gridBodyTemplate", _list);
    $(".grid-body").html(gridBodyHtml);

    // 计算grid-body的宽度
    var headerHeight = 38;
    var currentHeight = $(".grid-body").height();
    var bodyHeight = $(".grid").height() - headerHeight;
    var bodyWidth = $(".grid").width();
    $(".grid-body").css({
        "height": bodyHeight < currentHeight ? bodyHeight : currentHeight,
        "width": bodyWidth
    });
    // 计算.grid-row的宽度
    var scrollWidth = $(".grid-body")[0].scrollWidth;
    $(".grid-body .grid-row").width(scrollWidth + "px");
});
</script>
<!-- 滚动事件处理 -->
<script type="text/javascript">
$(function() {
    $(".grid-body").scroll(function() {
        // 基础的header跟随grid-body滚动
        var currentX = $(this).scrollLeft();
        $(".grid-header .grid-row").css("left", "-" + currentX + "px");
    });
});
</script>
</body>
</html>